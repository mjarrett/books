{% extends "lib/base.html" %}

{% block title %}Library{% endblock %}

{% block content %}

{% include "lib/header.html" %}

{% if object_list %}
<h1>Books</h1>
  <table>
    <tr>
      <th>Book <a href="{% url 'lib:books' %}?att=title&reverse=False"> &#9650</a><a href="{% url 'lib:books' %}?att=title&reverse=True">&#9660</a></th>
      <th>Author <a href="{% url 'lib:books' %}?att=author&reverse=False"> &#9650</a><a href="{% url 'lib:books' %}?att=author&reverse=True">&#9660</a></th>
      <th>Genre <a href="{% url 'lib:books' %}?att=category&reverse=False"> &#9650</a><a href="{% url 'lib:books' %}?att=category&reverse=True">&#9660</a></th>
      <th>Owner <a href="{% url 'lib:books' %}?att=owner&reverse=False"> &#9650</a><a href="{% url 'lib:books' %}?att=owner&reverse=True">&#9660</a></th>
    </tr>
    {% for book in object_list %}

  <tr>
    <td><a href="{% url 'lib:book' book.id %}">{{book.title}}</a></td>
    <td>{% if book.author %}<a href="{% url 'lib:author' book.author %}">{{book.author}}</a>{% else %}{{book.author}}{% endif %}</td>
    <td>{% for cat in book.category.all%}
      <a href="{% url 'lib:genre' cat.id %}">{{cat}} </a>
      {% endfor %}</td>
    <td><a href="{% url 'lib:profile' book.owner.username %}">{{book.owner.first_name}} {{book.owner.last_name.0}}</a>
  </tr>
    {% endfor %}
  </table>
{% else %}
  <p>No books available</p>
{% endif %}

{% endblock %}
